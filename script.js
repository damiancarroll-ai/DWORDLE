(function(){
  // Embedded lists (from your uploaded files)
  const EMBEDDED_WORDS = ["grime", "quota", "zebra", "juice", "frown", "brisk", "wacky", "plumb", "avert", "clung", "thump", "dream", "oxide", "yacht", "kneel", "stomp", "voice", "exalt", "blown", "prank", "jumpy", "chirp", "eager", "flask", "gauze", "helix", "igloo", "lofty", "mimic", "nylon", "opera", "quirk", "rhyme", "swamp", "tribe", "unify", "vixen", "wharf", "xylem", "yield", "zesty", "abyss", "bravo", "crony", "dwell", "epoxy", "forge", "ghost", "havoc", "ionic", "joker", "kayak", "lemon", "moose", "ninja", "oasis", "proxy", "query", "robot", "slunk", "toxic", "ultra", "valid", "waltz", "xenon", "yuppy", "zilch", "acorn", "bleep", "civic", "dozen", "elbow", "fjord", "glyph", "hydra", "input", "joust", "khaki", "lyric", "mango", "noble", "ozone", "pique", "quash", "raven", "trick", "usurp", "viper", "wizen", "exert", "yodel", "zonal", "apron", "binge", "crisp", "decoy", "equal", "funky", "gizmo", "humid", "ivory", "jazzy", "kiosk", "lurch", "major", "neigh", "orbit", "plaza", "quake", "rebut", "scald", "theme", "umbra", "vowel", "wrung", "expat", "yummy", "zappy", "adobe", "buxom", "clove", "drone", "evoke", "fable", "gumbo", "hoist", "incur", "jelly", "knack", "lilac", "mince", "naive", "onset", "prowl", "quiet", "rumba", "shush", "tulip", "unfit", "vague", "wimpy", "exile", "yelps", "awful", "boost", "curly", "ditto", "eerie", "flair", "gecko", "haunt", "idiom", "jowly", "koala", "louse", "munch", "nudge", "olive", "pulpy", "quick", "rogue", "spicy", "twang", "utter", "vodka", "woven", "extra", "yearn", "zones", "arise", "bevel", "chide", "dodge", "embed", "flick", "gnome", "helve", "ideal", "jaunt", "kappa", "ladle", "moldy", "niche", "ought", "price", "queue", "radar", "sassy", "tongs", "undue", "viral", "wafer", "exact", "yokel", "zoned", "amply", "blurt", "covet", "eject", "flute", "gorge", "hound", "inert", "judge", "kudos", "latch", "merge", "overt", "psych", "quilt", "roach", "stave", "truly", "unite", "video", "whiff", "exist", "youth", "zeals", "agent", "broke", "crank", "delta", "erode", "fudge", "grind", "hatch", "index", "juror", "leaky", "model", "ovoid", "pluck", "quest", "range", "shelf", "today", "untie", "valet", "weigh", "excel", "yogic", "zombi", "album", "burly", "crept", "dusky", "eagle", "freak", "glare", "hefty", "image", "karma", "labor", "magic", "ninth", "organ", "patch", "quail", "ratio", "savor", "their", "unzip", "venue", "whisk", "exude", "yikes", "zippy", "below", "couch", "drink", "enjoy", "fifth", "gavel", "hairy", "inbox", "knead", "lanky", "mouth", "newly", "outdo", "punch", "reply", "stone", "tweak", "usage", "vowed", "wedge", "envoy", "young", "brave", "climb", "dough", "heavy", "jewel", "kinky", "lucky", "music", "niece", "often", "pride", "quill", "rodeo", "slack", "tower", "uncut", "vital", "waive", "blaze", "cabin", "drive", "eight", "flung", "greet", "house", "iliac", "jumbo", "knife", "lover", "motel", "noisy", "ocean", "plant", "queen", "royal", "shade", "table", "under", "valve", "wound", "areas", "greed", "grime", "quota", "zebra", "juice", "frown", "brisk", "wacky", "plumb", "avert", "clung", "thump", "dream", "oxide", "yacht", "kneel", "stomp", "voice", "exalt", "blown", "prank", "jumpy", "chirp", "eager", "flask", "gauze", "helix", "igloo", "lofty", "mimic", "nylon", "opera", "quirk", "rhyme"];
  const EMBEDDED_MASTER = ["aaron", "ababa", "aback", "abaft", "abase", "abash", "abate", "abbey", "abbot", "abets", "abhor", "abide", "abler", "abner", "abode", "abort", "about", "above", "abram", "abuse", "abuts", "abyss", "accra", "ached", "aches", "acids", "acorn", "acres", "acrid", "acted", "acton", "actor", "acute", "adage", "adair", "adams", "adapt", "added", "adder", "addis", "adele", "adept", "adieu", "adler", "admit", "admix", "adobe", "adopt", "adore", "adorn", "adult", "aegis", "aesop", "affix", "afire", "afoot", "afore", "afoul", "after", "again", "agape", "agate", "agent", "agers", "aggie", "agile", "aging", "aglow", "agnes", "agnew", "agony", "agree", "agway", "ahead", "aided", "aides", "aiken", "aimed", "aimer", "ainus", "aired", "airer", "aires", "aisle", "akers", "akron", "alamo", "alarm", "album", "alcoa", "alden", "alder", "aleck", "alert", "aleut", "algae", "alger", "algol", "alias", "alibi", "alice", "alien", "align", "alike", "alive", "alkyl", "allah", "allan", "allay", "allen", "alley", "allis", "allot", "allow", "alloy", "allyn", "aloes", "aloft", "aloha", "alone", "along", "aloof", "aloud", "alpha", "alsop", "altar", "alter", "alton", "altos", "alvin", "amain", "amass", "amaze", "amber", "amble", "amend", "amide", "amiga", "amigo", "amino", "amiss", "amity", "amman", "amoco", "among", "amour", "ampex", "ample", "amply", "amuse", "andes", "andre", "angel", "anger", "angie", "angle", "anglo", "angry", "angst", "angus", "anion", "anise", "anita", "ankle", "annal", "annex", "annie", "annoy", "annul", "annum", "anode", "antic", "anton", "anvil", "aorta", "apace", "apart", "aphid", "aping", "apish", "appia", "apple", "apply", "april", "apron", "apsis", "aptly", "arabs", "araby", "arbor", "arced", "arden", "ardor", "areas", "arena", "argon", "argos", "argot", "argue", "argus", "aries", "arise", "arlen", "armco", "armed", "armer", "armor", "aroma", "arose", "array", "arrow", "arson", "artie", "aruba", "aryan", "ascii", "ascot", "ashen", "asher", "ashes", "asian", "aside", "asked", "asker", "askew", "aspen", "aspic", "assam", "assay", "asses", "asset", "aster", "aston", "astor", "atari", "atlas", "atoll", "atoms", "atone", "attic", "audio", "audit", "auger", "aught", "augur", "aunts", "aural", "auras", "autos", "avail", "avant", "avers", "avert", "avery", "avian", "avoid", "avows", "await", "awake", "award", "aware", "awash", "awful", "awoke", "axers", "axial", "axing", "axiom", "axles", "axons", "ayers", "aztec", "azure", "babel", "babes", "babka", "babul", "backs", "bacon", "baden", "badge", "badly", "bagel", "baggy", "baird", "bairn", "baits", "baked", "baker", "bakes", "baler", "bales", "balks", "balky", "balls", "balms", "balmy", "balsa", "bambi", "banal", "bands", "bandy", "bangs", "banjo", "banks", "bantu", "barbs", "bards", "bared", "barer", "bares", "barge", "barks", "barns", "baron", "barry", "barth", "basal", "based", "basel", "baser", "bases", "basic", "basie", "basil", "basin", "basis", "baste", "batch", "bates", "bathe", "baths", "baton", "bator", "bauer", "bawdy", "bawls", "bayda", "bayed", "bayes", "bayou", "beach", "beads", "beady", "beaks", "beams", "beans", "beard", "bears", "beast", "beats", "beaus", "becky", "beebe", "beech", "beefs", "beefy", "beeps", "beers", "beets", "befit", "befog", "began", "beget", "begin", "begot", "begun", "beige", "being", "belay", "belch", "belie", "bella", "belle", "bells", "belly", "below", "belts", "bench", "bends", "benny", "berea", "beret", "berne", "berra", "berry", "berth", "beryl", "beset", "bests", "betel", "betsy", "bette", "betty", "bevel", "bible", "bicep", "biddy", "biggs", "bight", "bigot", "bikes", "bilbo", "bilge", "bilks", "bills", "binds", "binge", "bingo", "biota", "biped", "birch", "birds", "birth", "bison", "bitch", "biter", "bites", "bizet", "blabs", "black", "blade", "blair", "blake", "blame", "bland", "blank", "blare", "blase", "blast", "blatz", "blaze", "bleak", "blear", "bleat", "bleed", "blend", "bless", "blimp", "blind", "blink", "blinn", "blips", "bliss", "blitz", "bloat", "blobs", "bloch", "block", "blocs", "bloke", "blond", "blood", "bloom", "blots", "blown", "blows", "bluer", "blues", "bluff", "blunt", "blurb", "blurs", "blurt", "blush", "board", "boast", "boats", "bobby", "bodes", "boers", "bogus", "boils", "boise", "bolts", "bombs", "bonds", "boned", "boner", "bones", "bonny", "bonus", "booby", "books", "booms", "boone", "boors", "boost", "booth", "boots", "booty", "booze", "borax", "bored", "borer", "bores", "boric", "boris", "borne", "boron", "bosch", "bosom", "bosun", "botch", "bough", "bound", "bouts", "bowed", "bowel", "bowen", "bower", "bowes", "bowls", "boxed", "boxer", "boxes", "boyce", "boyle", "brace", "brady", "braes", "bragg", "brags", "braid", "brain", "brake", "brand", "brash", "brass", "brats", "braun", "brave", "bravo", "brawl", "brawn", "brays", "braze", "bread", "break", "breed", "brent", "brest", "brett", "breve", "brews", "brian", "briar", "bribe", "brice", "brick", "bride", "brief", "brien", "brier", "brigs", "brine", "bring", "brink", "briny", "brisk", "broad", "brock", "broil", "broke", "bronx", "brood", "brook", "broom", "broth", "brown", "brows", "bruce", "bruno", "brunt", "brush", "brute", "bryan", "bryce", "bucks", "bucky", "buddy", "budge", "buena", "buffs", "buggy", "bugle", "buick", "build", "built", "bulba", "bulbs", "bulge", "bulks", "bulky", "bulls", "bully", "bumps", "bunch", "bundy", "bunks", "bunny", "bunts", "buoys", "burch", "burke", "burly", "burma", "burne", "burns", "burnt", "burps", "burrs", "bursa", "burst", "burtt", "busch", "bused", "buses", "bushy", "busts", "butte", "butts", "butyl", "buxom", "buyer", "buzzy", "byers", "bylaw", "byrne", "byron", "bytes", "byway", "cabal", "cabin", "cable", "cabot", "cache", "cacti", "cafes", "caged", "cager", "cages", "caine", "cairn", "cairo", "cajun", "caked", "cakes", "caleb", "calls", "calms", "calve", "camel", "camps", "canal", "candy", "caner", "canis", "canny", "canoe", "canon", "canto", "caper", "capes", "capet", "cappy", "cards", "cared", "cares", "caret", "carey", "cargo", "carib", "carla", "carlo", "carol", "carry", "carts", "carty", "carve", "cased", "cases", "casey", "casks", "caste", "casts", "catch", "cater", "cathy", "caulk", "cause", "caved", "caves", "cavil", "cease", "cecil", "cedar", "ceded", "celia", "cells", "cents", "ceres", "cetus", "chafe", "chaff", "chain", "chair", "chalk", "chang", "chant", "chaos", "chaps", "charm", "chars", "chart", "chase", "chasm", "cheap", "cheat", "check", "cheek", "cheer", "chefs", "cheng", "chess", "chest", "chevy", "chews", "chick", "chide", "chief", "child", "chile", "chili", "chill", "chime", "china", "ching", "chink", "chins", "chips", "chirp", "chloe", "chock", "choir", "choke", "chops", "chord", "chore", "chose", "chris", "chuck", "chunk", "churn", "chute", "cider", "cigar", "cilia", "cindy", "circa", "circe", "cited", "cites", "civet", "civic", "civil", "claim", "clamp", "clams", "clang", "clank", "claps", "clara", "clare", "clark", "clash", "clasp", "class", "claus", "claws", "clays", "clean", "clear", "cleft", "clerk", "click", "cliff", "climb", "clime", "cling", "clink", "clint", "clips", "clive", "cloak", "clock", "clods", "clogs", "clone", "close", "cloth", "cloud", "clout", "clove", "clown", "clubs", "cluck", "clues", "clump", "clung", "clyde", "coach", "coals", "coast", "coats", "cobol", "cobra", "cocks", "cocky", "cocoa", "coded", "coder", "codes", "cohen", "coils", "coins", "cokes", "colby", "colds", "colon", "color", "colts", "combs", "comer", "comes", "comet", "comic", "comma", "cones", "congo", "conic", "cooke", "cooks", "cooky", "cools", "coons", "coops", "coors", "coped", "copes", "copra", "copse", "coral", "cords", "cored", "corer", "cores", "corey", "corks", "corns", "corny", "corps", "costa", "costs", "couch", "cough", "could", "count", "court", "cover", "coves", "covet", "cowan", "cowed", "cower", "cowls", "coypu", "crabs", "crack", "craft", "crags", "craig", "cramp", "crams", "crane", "crank", "crash", "crass", "crate", "crave", "crawl", "crays", "craze", "crazy", "creak", "cream", "creed", "creek", "creep", "creon", "crepe", "crept", "crest", "crete", "crews", "cribs", "cried", "crier", "cries", "crime", "crisp", "croak", "crock", "croft", "croix", "crook", "crops", "cross", "crowd", "crown", "crows", "crude", "cruel", "crumb", "crush", "crust", "crypt", "cuban", "cubed", "cubes", "cubic", "cuffs", "culls", "culpa", "cults", "cupid", "curbs", "cured", "cures", "curls", "curly", "curry", "curse", "curve", "cusps", "cuzco", "cycle", "cynic", "cyril", "cyrus", "cysts", "czech", "dacca", "daddy", "daily", "dairy", "daisy", "dakar", "dales", "daley", "damns", "damon", "dance", "dandy", "danes", "danny", "dante", "dared", "darer", "dares", "darns", "darpa", "darry", "darts", "dated", "dater", "dates", "datum", "daunt", "david", "davie", "davis", "dawns", "dazed", "deals", "dealt", "deane", "deans", "death", "debar", "debby", "debit", "debra", "debts", "debug", "decal", "decay", "decca", "decks", "decoy", "deeds", "deems", "deeps", "deere", "defer", "defoe", "deify", "deign", "deity", "delay", "delft", "delhi", "delia", "della", "dells", "delta", "delve", "demon", "demur", "deneb", "denny", "dense", "dents", "depot", "depth", "derby", "derek", "desks", "deter", "deuce", "devil", "devon", "dewey", "dhabi", "dials", "diana", "diane", "diary", "dicky", "diego", "diets", "dietz", "digit", "dijon", "dikes", "dildo", "dimes", "dimly", "dinah", "dined", "diner", "dines", "dingo", "dingy", "diode", "dirac", "dirge", "dirts", "dirty", "discs", "disks", "ditch", "ditto", "ditty", "divan", "dived", "diver", "dives", "dixie", "dixon", "dizzy", "dobbs", "docks", "dodge", "doers", "dogma", "doing", "dolan", "doled", "doles", "dolls", "dolly", "domed", "domes", "donna", "donor", "dooms", "doors", "doped", "doper", "dopes", "doria", "doric", "doris", "dosed", "doses", "doted", "dotes", "doubt", "dough", "dover", "doves", "dowel", "downs", "downy", "dowry", "doyle", "dozed", "dozen", "dozes", "draco", "draft", "drags", "drain", "drake", "drama", "drank", "drape", "drawl", "drawn", "draws", "dread", "dream", "dregs", "dress", "dried", "drier", "dries", "drift", "drill", "drily", "drink", "drips", "drive", "droll", "drone", "drool", "droop", "drops", "drove", "drown", "drugs", "drums", "drunk", "drury", "dryly", "duane", "dubhe", "duchy", "ducks", "ducts", "duels", "duffy", "dugan", "dukes", "dulls", "dully", "dummy", "dumps", "dunce", "dunes", "dunne", "durer", "dusky", "dusts", "dusty", "dutch", "dwarf", "dwell", "dwelt", "dwyer", "dyers", "dying", "dylan", "eagan", "eager", "eagle", "eared", "earls", "early", "earns", "earth", "eased", "easel", "eases", "eaten", "eater", "eaton", "eaves", "ebony", "ecole", "eddie", "edgar", "edged", "edges", "edict", "edith", "edits", "edwin", "eerie", "effie", "egged", "egypt", "eight", "eject", "elbow", "elder", "eldon", "elect", "elegy", "elena", "elgin", "elide", "eliot", "elite", "ellen", "ellie", "ellis", "elmer", "elope", "elroy", "elsie", "elton", "elude", "elves", "elvis", "emacs", "embed", "ember", "emery", "emile", "emily", "emits", "emory", "empty", "enact", "ended", "ender", "endow", "enema", "enemy", "engel", "engle", "enjoy", "ennui", "enoch", "ensue", "enter", "entry", "envoy", "epics", "epoch", "epsom", "equal", "equip", "erase", "erato", "erect", "erich", "ernie", "ernst", "erode", "erred", "errol", "error", "erupt", "ervin", "erwin", "essay", "essen", "essex", "estes", "ethan", "ethel", "ether", "ethic", "euler", "evade", "evans", "evens", "event", "every", "evict", "evils", "evoke", "ewing", "exact", "exalt", "exams", "excel", "exert", "exile", "exist", "exits", "expel", "extol", "extra", "exult", "exxon", "eyers", "eying", "faber", "fable", "faced", "faces", "facet", "facto", "facts", "faded", "fader", "fades", "fagin", "fahey", "fails", "faint", "fairs", "fairy", "faith", "faked", "faker", "fakes", "falls", "false", "famed", "fames", "fancy", "fangs", "fanny", "farad", "farce", "fared", "fares", "fargo", "farms", "fasts", "fatal", "fated", "fates", "fatty", "fault", "fauna", "faust", "favor", "fawns", "fears", "feast", "feats", "feeds", "feels", "feign", "felix", "felon", "felts", "femur", "fence", "fermi", "ferns", "ferry", "fetal", "fetch", "fetid", "fetus", "feuds", "fever", "fewer", "fiber", "fidel", "field", "fiend", "fiery", "fifth", "fifty", "fight", "filed", "filer", "files", "fills", "filly", "films", "filth", "final", "finds", "fined", "finer", "fines", "finns", "finny", "fiori", "fired", "firer", "fires", "firms", "first", "fishy", "fiske", "fists", "fitch", "fitly", "fives", "fixed", "fixer", "fixes", "flack", "flags", "flail", "flair", "flake", "flaky", "flame", "flank", "flaps", "flare", "flash", "flask", "flats", "flaws", "fleas", "flees", "fleet", "flesh", "flick", "flier", "flies", "fling", "flint", "flips", "flirt", "float", "flock", "flood", "floor", "flops", "flora", "floss", "flour", "flown", "flows", "floyd", "fluff", "fluid", "fluke", "flung", "flush", "flute", "flyer", "flynn", "foams", "foamy", "focal", "focus", "foggy", "foils", "foist", "folds", "foley", "folks", "folly", "fonts", "foods", "fools", "foote", "foray", "force", "fords", "forge", "forks", "forms", "forte", "forth", "forts", "forty", "forum", "fouls", "found", "fount", "fours", "fowls", "foxes", "frail", "frame", "franc", "frank", "franz", "fraud", "frays", "freak", "freed", "freer", "frees", "freon", "fresh", "freud", "freya", "friar", "frick", "fried", "fries", "frill", "frisk", "frito", "fritz", "frock", "frogs", "front", "frost", "froth", "frown", "froze", "fruit", "fuchs", "fudge", "fuels", "fugue", "fully", "fumed", "fumes", "funds", "fungi", "funny", "furry", "fused", "fuses", "fussy", "fuzzy", "gable", "gabon", "gaily", "gains", "galen", "galls", "gamed", "games", "gamma", "gangs", "gaped", "gapes", "garry", "garth", "gases", "gasps", "gassy", "gated", "gates", "gator", "gaudy", "gauge", "gauls", "gaunt", "gauze", "gavel", "gavin", "gawky", "gayer", "gayly", "gazed", "gazer", "gazes", "gears", "geary", "gecko", "geese", "geigy", "gemma", "genes", "genie", "genoa", "genre", "genus", "geoff", "germs", "gerry", "getty", "ghana", "ghent", "ghost", "giant", "gibbs", "gibby", "giddy", "gifts", "gilds", "giles", "gills", "gipsy", "girls", "girth", "given", "giver", "gives", "glade", "gland", "glare", "glass", "glaze", "gleam", "glean", "glees", "glenn", "glens", "glide", "glint", "gloat", "globe", "gloom", "glory", "gloss", "glove", "glows", "glued", "glues", "glynn", "gnash", "gnats", "gnaws", "gnome", "goals", "goats", "godly", "godot", "going", "golda", "golds", "golly", "gomez", "goner", "gongs", "goode", "goods", "goody", "goofs", "goofy", "goose", "goren", "gorge", "gorky", "gotos", "gouda", "gouge", "gould", "gourd", "gowns", "grabs", "grace", "grade", "grady", "graff", "graft", "grail", "grain", "grams", "grand", "grant", "grape", "graph", "grasp", "grass", "grate", "grave", "gravy", "graze", "great", "greed", "greek", "green", "greer", "greet", "gregg", "greta", "grids", "grief", "grill", "grime", "grimm", "grind", "grins", "gripe", "grips", "grist", "grits", "groan", "groin", "groom", "groot", "grope", "gross", "group", "grove", "growl", "grown", "grows", "grubs", "gruff", "grunt", "guano", "guard", "guess", "guest", "guide", "guild", "guile", "guilt", "guise", "gulch", "gulfs", "gulls", "gully", "gulps", "gunny", "gusto", "gusts", "gusty", "gutsy", "guyed", "guyer", "gypsy", "habib", "habit", "hacks", "hades", "hafiz", "hagen", "hager", "hague", "haifa", "hails", "hairs", "hairy", "haiti", "haler", "haley", "halls", "halts", "halve", "hamal", "hamey", "hands", "handy", "haney", "hangs", "hanna", "hanoi", "haply", "happy", "hardy", "harem", "hares", "harms", "harpy", "harry", "harsh", "haste", "hasty", "hatch", "hated", "hater", "hates", "hauls", "haunt", "hausa", "haven", "haves", "havoc", "hawks", "haydn", "hayes", "hazel", "hazes", "heads", "heals", "healy", "heaps", "heard", "hears", "heart", "heath", "heats", "heave", "heavy", "hedda", "hedge", "heeds", "heels", "hefty", "hegel", "heine", "heinz", "heirs", "helen", "helga", "helix", "hello", "hells", "helps", "hence", "henri", "herbs", "herds", "heres", "heron", "hertz", "hesse", "hetty", "hewed", "hewer", "hiatt", "hicks", "hides", "hiked", "hiker", "hikes", "hills", "hilts", "hindi", "hindu", "hines", "hinge", "hints", "hippo", "hiram", "hired", "hirer", "hires", "hirey", "hitch", "hoard", "hoary", "hobbs", "hobby", "hoist", "hokan", "holds", "holed", "holes", "holly", "holst", "homed", "homer", "homes", "honda", "hondo", "honed", "honer", "hones", "honey", "honor", "hoods", "hoofs", "hooks", "hoops", "hoots", "hoped", "hopes", "horde", "horns", "horny", "horse", "horus", "hoses", "hosts", "hotel", "hotly", "hound", "hours", "house", "hovel", "hover", "howls", "huber", "hulls", "human", "humid", "humor", "hunch", "hunks", "hunts", "huron", "hurry", "hurst", "hurts", "husks", "husky", "hutch", "hydra", "hydro", "hyena", "hyman", "hymen", "hymns", "hyper", "ibsen", "icing", "icons", "idaho", "ideal", "ideas", "idiom", "idiot", "idled", "idler", "idles", "idols", "igloo", "iliad", "ilona", "image", "impel", "imply", "inane", "incas", "incur", "index", "india", "indus", "inept", "inert", "infer", "infix", "infra", "ingot", "injun", "inked", "inker", "inlay", "inlet", "inman", "inner", "input", "inset", "intel", "inter", "iraqi", "irate", "irene", "irish", "irked", "irons", "irony", "irvin", "irwin", "isaac", "ising", "islam", "isles", "islet", "issue", "italy", "items", "ivies", "ivory", "izaak", "jacky", "jacob", "jaded", "jails", "jaime", "jakes", "james", "janet", "janis", "janos", "janus", "japan", "jason", "jaunt", "jazzy", "jeans", "jeeps", "jeers", "jello", "jelly", "jenny", "jeres", "jerks", "jerky", "jerry", "jesse", "jessy", "jests", "jesus", "jewel", "jiffy", "jinny", "johns", "joins", "joint", "joked", "joker", "jokes", "jolla", "jolly", "jolts", "jonas", "jones", "jorge", "josef", "joule", "joust", "joyce", "jubal", "judas", "judea", "judge", "juice", "juicy", "jukes", "jules", "julia", "julie", "julio", "jumbo", "jumps", "jumpy", "junes", "junks", "junky", "junta", "juras", "juror", "kabul", "kafka", "kajar", "kanji", "kappa", "karen", "karol", "kathy", "katie", "keats", "keels", "keeps", "keith", "kelly", "kenny", "kenya", "kevin", "keyed", "keyes", "khmer", "kicks", "kidde", "kills", "kinds", "kings", "kinky", "kiosk", "kiowa", "kirby", "kirov", "kited", "kites", "kitty", "klaus", "klein", "kline", "knack", "knapp", "knave", "knead", "kneed", "kneel", "knees", "knell", "knelt", "knife", "knits", "knobs", "knock", "knoll", "knots", "knott", "known", "knows", "knuth", "koala", "kodak", "koran", "korea", "krebs", "kruse", "kuala", "kumar", "kyoto", "laban", "label", "labor", "laced", "laces", "lacey", "lacks", "laden", "ladle", "lager", "lagos", "lairs", "lakes", "lamar", "lambs", "lamed", "lames", "lamps", "lance", "lands", "lanes", "lange", "lanka", "lapel", "lapse", "lares", "large", "larks", "larry", "larva", "laser", "lasso", "lasts", "latch", "later", "latex", "lathe", "latin", "laugh", "lawns", "layer", "lazed", "leads", "leafy", "leaks", "leaky", "leans", "leaps", "leapt", "learn", "leary", "lease", "leash", "least", "leave", "ledge", "leech", "leeds", "leery", "legal", "leger", "leigh", "leila", "lemke", "lemma", "lemon", "lends", "lenin", "lenny", "leona", "leone", "leper", "leroy", "lethe", "levee", "level", "lever", "levin", "levis", "liars", "libel", "libya", "licks", "liege", "liens", "lifer", "lifts", "light", "liked", "liken", "likes", "lilac", "lilly", "liman", "limbo", "limbs", "limes", "limit", "limps", "linda", "lindy", "lined", "linen", "liner", "lines", "lingo", "links", "linus", "linux", "lions", "lisps", "lists", "liter", "lithe", "lived", "liver", "lives", "livid", "lizzy", "lloyd", "loads", "loans", "loath", "lobby", "lobes", "local", "locke", "locks", "locus", "lodge", "lofts", "lofty", "logan", "logic", "login", "loins", "loire", "loner", "longs", "looks", "looms", "loops", "loose", "loots", "lopez", "lords", "loren", "lorry", "loser", "loses", "lossy", "lotte", "lotus", "louis", "louse", "lousy", "loved", "lover", "loves", "lower", "lowly", "lowry", "loyal", "lucas", "lucia", "lucid", "lucks", "lucky", "lulls", "lumps", "lumpy", "lunar", "lunch", "lungs", "lurch", "lured", "lures", "lurks", "lusts", "lusty", "lutes", "luzon", "lydia", "lying", "lykes", "lyman", "lymph", "lynch", "lyons", "lyric", "mabel", "maced", "maces", "macho", "macon", "macro", "madam", "madly", "mafia", "magic", "magna", "magog", "maids", "maier", "mails", "maims", "maine", "mains", "maize", "major", "maker", "makes", "malay", "males", "malta", "malts", "mamma", "manes", "mania", "manic", "manly", "manor", "maori", "maple", "march", "marco", "marcy", "mardi", "mares", "margo", "marie", "marin", "mario", "marks", "marry", "marsh", "marts", "marty", "masks", "mason", "masts", "match", "mated", "mateo", "mater", "mates", "maude", "mavis", "maxim", "maybe", "mayer", "mayor", "mazda", "mazes", "mccoy", "mcgee", "mckay", "mckee", "meals", "mealy", "means", "meant", "meats", "meaty", "mecca", "medal", "medea", "media", "medic", "meets", "meier", "meiji", "melon", "melts", "memos", "mends", "menlo", "menus", "merck", "mercy", "merge", "merit", "merle", "merry", "meson", "messy", "metal", "meted", "meter", "metes", "metro", "mewed", "meyer", "miami", "micky", "micro", "midas", "midst", "might", "milan", "miles", "milks", "milky", "mills", "milne", "mimic", "mince", "minds", "mined", "miner", "mines", "minis", "minks", "minor", "minos", "minsk", "mints", "minus", "mired", "mires", "mirth", "miser", "missy", "mists", "misty", "mitch", "miter", "mitre", "mixed", "mixer", "mixes", "mixup", "mizar", "moans", "moats", "mobil", "mocks", "modal", "model", "modem", "modes", "modus", "moist", "molar", "molds", "moles", "molly", "mommy", "monet", "money", "monks", "month", "monty", "moods", "moody", "moons", "moore", "moors", "moose", "moped", "moral", "moran", "mores", "moron", "morse", "moser", "moses", "mossy", "motel", "motif", "motor", "motto", "mould", "mound", "mount", "mourn", "mouse", "mousy", "mouth", "moved", "mover", "moves", "movie", "mowed", "mower", "moyer", "mucus", "muddy", "muffs", "mules", "multi", "mummy", "munch", "mundt", "muong", "mural", "murky", "mused", "muses", "mushy", "music", "musks", "musts", "musty", "muted", "muzak", "myers", "myron", "nabla", "nadia", "nadir", "nails", "naive", "naked", "named", "namer", "names", "nancy", "naomi", "nasal", "nasas", "nasty", "natal", "natos", "naval", "navel", "nazis", "nears", "necks", "needs", "needy", "negro", "nehru", "neigh", "nepal", "nerve", "nests", "never", "newer", "newly", "nicer", "niche", "nicks", "niece", "nifty", "niger", "night", "nikko", "nines", "ninth", "niobe", "nitty", "nixon", "nobel", "noble", "nobly", "nodal", "nodes", "noise", "noisy", "nolan", "nonce", "nooks", "noons", "noose", "norma", "norms", "norse", "north", "nosed", "noses", "notch", "noted", "notes", "notre", "nouns", "novak", "novel", "noyes", "nubia", "nudge", "nulls", "numbs", "nurse", "nylon", "nymph", "oaken", "oases", "oasis", "oaten", "oaths", "obese", "obeys", "occam", "occur", "ocean", "octal", "octet", "odder", "oddly", "odium", "odors", "offer", "often", "ogden", "oiled", "oiler", "olden", "older", "olive", "olsen", "olson", "omaha", "omega", "omens", "omits", "onion", "onset", "oozed", "opals", "opens", "opera", "opium", "opted", "optic", "orbit", "order", "organ", "orion", "orono", "osaka", "oscar", "other", "otter", "ought", "ounce", "outdo", "outer", "ovals", "ovary", "ovens", "overt", "owens", "owing", "owned", "owner", "oxide", "ozark", "ozone", "ozzie", "pablo", "pabst", "paced", "pacer", "paces", "packs", "pacts", "paddy", "pagan", "paged", "pager", "pages", "pails", "paine", "pains", "paint", "pairs", "paled", "paler", "pales", "palms", "palsy", "panda", "panel", "panes", "pangs", "panic", "pansy", "pants", "panty", "paoli", "papal", "paper", "papua", "parch", "pares", "paris", "parke", "parks", "parrs", "parry", "parse", "parsi", "parts", "party", "passe", "paste", "pasts", "patch", "paten", "paths", "patio", "patsy", "patti", "patty", "paula", "pauli", "paulo", "pause", "paved", "paves", "pawns", "payed", "payer", "payne", "peace", "peach", "peaks", "peale", "peals", "pearl", "pears", "pease", "pecks", "pecos", "pedal", "pedro", "peeks", "peels", "peeps", "peers", "peggy", "pelts", "penal", "pence", "pends", "penis", "penny", "peony", "peppy", "pepsi", "perch", "percy", "perez", "peril", "perky", "perle", "perry", "perth", "pests", "petal", "peter", "petri", "petty", "phase", "phigs", "phone", "phony", "photo", "phyla", "piano", "picas", "picks", "picky", "piece", "piers", "piety", "piggy", "piker", "pikes", "piled", "piles", "pills", "pilot", "pinch", "pined", "pines", "pinks", "pinto", "pints", "piotr", "pious", "piped", "piper", "pipes", "pique", "pitch", "pithy", "pivot", "pixel", "pizza", "place", "plaid", "plain", "plait", "plane", "plank", "plans", "plant", "plate", "plato", "plays", "plaza", "plead", "pleas", "pleat", "plied", "plies", "pliny", "plots", "plows", "ploys", "pluck", "plugs", "plumb", "plume", "plump", "plums", "plunk", "plush", "pluto", "poach", "podia", "poems", "poets", "point", "poise", "poked", "poker", "pokes", "polar", "poled", "poles", "polio", "polka", "polls", "ponce", "ponds", "pooch", "poole", "pools", "popek", "poppy", "porch", "pored", "pores", "porte", "porto", "ports", "posed", "poser", "poses", "posit", "posse", "posts", "potts", "pouch", "pound", "pours", "pouts", "power", "prado", "prank", "prate", "pratt", "preen", "press", "preys", "priam", "price", "prick", "pride", "prima", "prime", "print", "prior", "prism", "privy", "prize", "probe", "prone", "prong", "proof", "props", "prose", "proud", "prove", "prowl", "prows", "proxy", "prune", "psalm", "psych", "puffs", "pulls", "pulse", "pumps", "punch", "punic", "punts", "pupil", "puppy", "purer", "purge", "purrs", "purse", "pusan", "pusey", "pussy", "putty", "pygmy", "pyotr", "pyrex", "qatar", "quack", "quaff", "quail", "quake", "qualm", "quark", "quart", "quash", "quasi", "queen", "queer", "quell", "query", "quest", "queue", "quick", "quiet", "quill", "quilt", "quinn", "quint", "quirk", "quite", "quito", "quits", "quota", "quote", "quoth", "rabat", "rabbi", "rabid", "rabin", "raced", "racer", "races", "racks", "radar", "radii", "radio", "radix", "radon", "rafts", "raged", "rages", "raids", "rails", "rains", "rainy", "raise", "raked", "rakes", "rally", "ralph", "raman", "ramps", "ranch", "randy", "range", "rangy", "ranks", "rants", "raoul", "raped", "raper", "rapes", "rapid", "rarer", "rasps", "rated", "rater", "rates", "ratio", "raved", "raven", "raves", "rawer", "rawly", "razor", "reach", "react", "reads", "ready", "realm", "reals", "reaps", "rears", "rebel", "recta", "recur", "redly", "reeds", "reefs", "reels", "reese", "refer", "regal", "regis", "reich", "reign", "reins", "relax", "relay", "relic", "remit", "remus", "renal", "rends", "renee", "renew", "rents", "repay", "repel", "reply", "rerun", "reset", "resin", "rests", "retch", "retry", "reuse", "revel", "rhine", "rhino", "rhoda", "rhode", "rhyme", "rican", "rider", "rides", "ridge", "rifle", "rigel", "riggs", "right", "rigid", "rigor", "riley", "rilke", "rinds", "rings", "rinse", "riots", "ripen", "risen", "riser", "rises", "risks", "risky", "rites", "rival", "river", "rivet", "roach", "roads", "roams", "roars", "roast", "robed", "robes", "robin", "robot", "rocco", "rocks", "rocky", "rodeo", "roger", "rogue", "roles", "rolls", "roman", "romeo", "romps", "roofs", "rooms", "roomy", "roost", "roots", "roped", "roper", "ropes", "rosen", "roses", "rosie", "rossi", "rotor", "rouge", "rough", "round", "rouse", "route", "roved", "rover", "roves", "rowdy", "rowed", "rower", "royal", "royce", "ruben", "rubin", "ruble", "ruddy", "rufus", "ruins", "ruled", "ruler", "rules", "rumen", "rummy", "rumor", "runge", "rungs", "rupee", "rural", "russo", "rusts", "rusty", "ryder", "saber", "sable", "sachs", "sacks", "sadie", "sadly", "safer", "safes", "sages", "sails", "saint", "sakes", "salad", "salem", "sales", "salle", "sally", "salon", "salts", "salty", "salve", "sammy", "samoa", "sands", "sandy", "saner", "santa", "santo", "sarah", "saran", "satan", "sated", "sates", "satin", "satyr", "sauce", "saucy", "saudi", "sault", "saved", "saver", "saves", "savor", "savoy", "sawed", "saxon", "sayer", "scala", "scald", "scale", "scalp", "scaly", "scans", "scant", "scare", "scarf", "scars", "scary", "scene", "scent", "scoff", "scold", "scoop", "scoot", "scope", "score", "scorn", "scots", "scott", "scour", "scout", "scowl", "scram", "scrap", "screw", "scrub", "scuba", "seals", "sealy", "seams", "seamy", "sears", "seats", "sects", "sedan", "sedge", "seeds", "seedy", "seeks", "seems", "seeps", "seers", "seize", "sells", "selma", "sends", "sense", "seoul", "sepia", "sepoy", "serfs", "serif", "serra", "serum", "serve", "servo", "setup", "seven", "sever", "sewed", "sewer", "sexed", "sexes", "shack", "shade", "shady", "shaft", "shake", "shaky", "shale", "shall", "shame", "shams", "shape", "shard", "share", "shari", "shark", "sharp", "shave", "shawl", "sheaf", "shear", "sheds", "sheen", "sheep", "sheer", "sheet", "sheik", "shelf", "shell", "shied", "shies", "shift", "shill", "shine", "shiny", "ships", "shire", "shirk", "shirt", "shiva", "shoal", "shock", "shoed", "shoes", "shoji", "shone", "shook", "shoot", "shops", "shore", "shorn", "short", "shots", "shout", "shove", "shown", "shows", "showy", "shred", "shrew", "shrub", "shrug", "shuns", "shunt", "shuts", "shyly", "sided", "sides", "siege", "siena", "sieve", "sighs", "sight", "sigma", "signs", "sikhs", "silas", "silks", "silky", "sills", "silly", "silts", "simla", "simms", "simon", "sinai", "since", "sines", "sinew", "singe", "sings", "sinks", "sinus", "sioux", "sired", "siren", "sires", "sirup", "sited", "sites", "sixes", "sixth", "sixty", "sized", "sizes", "skate", "skews", "skied", "skies", "skiff", "skill", "skimp", "skims", "skins", "skips", "skirt", "skulk", "skull", "skunk", "slack", "slain", "slams", "slang", "slant", "slaps", "slash", "slate", "slats", "slave", "slavs", "slays", "sleds", "sleek", "sleep", "sleet", "slept", "slice", "slick", "slide", "slime", "slimy", "sling", "slips", "slits", "sloan", "sloop", "slope", "slops", "sloth", "slots", "slows", "slugs", "slump", "slums", "slung", "slurp", "slurs", "slyly", "smack", "small", "smart", "smash", "smear", "smell", "smelt", "smile", "smirk", "smite", "smith", "smock", "smoke", "smoky", "smote", "snack", "snafu", "snail", "snake", "snaps", "snare", "snark", "snarl", "snead", "sneak", "sneed", "sneer", "sniff", "snipe", "snoop", "snore", "snort", "snout", "snows", "snowy", "snuff", "soaks", "soaps", "soapy", "soars", "sober", "socks", "soddy", "sofas", "sofia", "soggy", "soils", "solar", "soles", "solid", "solly", "solon", "solos", "solve", "sonar", "songs", "sonic", "sonny", "sooth", "sorer", "sores", "sorry", "sorts", "souls", "sound", "soups", "sours", "sousa", "south", "space", "spahn", "spain", "spank", "spans", "sparc", "spare", "spark", "spasm", "spate", "spawn", "speak", "spear", "speck", "speed", "spell", "spend", "spent", "sperm", "spica", "spice", "spicy", "spies", "spike", "spill", "spilt", "spine", "spins", "spiny", "spire", "spiro", "spite", "spits", "spitz", "split", "spoil", "spoke", "spoof", "spook", "spool", "spoon", "spore", "sport", "spots", "spout", "spray", "spree", "sprig", "spuds", "spunk", "spurn", "spurs", "spurt", "squad", "squat", "squaw", "squid", "stabs", "stack", "stacy", "staff", "stage", "stags", "stahl", "staid", "stain", "stair", "stake", "stale", "stalk", "stall", "stamp", "stand", "stans", "stare", "stark", "starr", "stars", "start", "state", "stave", "stays", "stead", "steak", "steal", "steam", "steed", "steel", "steen", "steep", "steer", "stems", "steps", "stern", "steve", "stews", "stick", "stiff", "stile", "still", "stilt", "sting", "stink", "stint", "stirs", "stock", "stoke", "stole", "stomp", "stone", "stony", "stood", "stool", "stoop", "stops", "store", "stork", "storm", "story", "stout", "stove", "stowe", "strap", "straw", "stray", "strew", "strip", "strom", "strut", "stubs", "stuck", "studs", "study", "stuff", "stump", "stung", "stunt", "sturm", "style", "styli", "suave", "sucks", "sudan", "sugar", "suing", "suite", "suits", "sulfa", "sulks", "sulky", "sumac", "sunny", "super", "surge", "surly", "susan", "susie", "swain", "swami", "swamp", "swank", "swans", "swaps", "swarm", "swear", "sweat", "swede", "sweep", "sweet", "swell", "swept", "swift", "swims", "swine", "swing", "swink", "swipe", "swirl", "swish", "swiss", "swoon", "swoop", "sword", "swore", "sworn", "swung", "sybil", "sykes", "sylow", "synge", "synod", "syria", "syrup", "table", "taboo", "tacit", "tahoe", "tails", "taint", "taken", "taker", "takes", "tales", "talks", "tally", "tamed", "tamer", "tames", "tamil", "tampa", "tangy", "tanks", "tanya", "taped", "taper", "tapes", "tardy", "tarry", "tasks", "taste", "taunt", "tawny", "taxed", "taxes", "taxis", "teach", "teams", "tears", "tease", "teddy", "teems", "teens", "teeth", "telex", "tells", "tempt", "tends", "tenex", "tenor", "tense", "tenth", "tents", "terms", "terra", "terre", "tests", "texan", "texas", "texts", "thank", "thats", "thaws", "theft", "their", "theme", "there", "these", "thick", "thief", "thigh", "thing", "think", "third", "thong", "thorn", "those", "three", "threw", "throb", "throw", "thuds", "thugs", "thule", "thumb", "thump", "tiber", "tibet", "ticks", "tidal", "tided", "tides", "tieck", "tiers", "tiger", "tight", "tilde", "tiled", "tiles", "tills", "tilts", "timed", "timer", "times", "timex", "timid", "timmy", "timon", "tinge", "tinny", "tints", "tioga", "tired", "tires", "titan", "tithe", "title", "titus", "toads", "toast", "today", "toils", "token", "tokyo", "tolls", "tombs", "toned", "toner", "tones", "tongs", "tonic", "tonio", "tools", "tooth", "toper", "topic", "topsy", "torah", "torch", "torus", "tosca", "total", "touch", "tough", "tours", "towed", "towel", "tower", "towns", "toyed", "trace", "track", "tract", "tracy", "trade", "trail", "train", "trait", "tramp", "traps", "trash", "trays", "tread", "treat", "trees", "treks", "trend", "tress", "trial", "tribe", "trick", "tried", "trier", "tries", "trill", "trims", "trips", "troll", "troop", "trots", "trout", "truce", "truck", "trudy", "trued", "truer", "trues", "truly", "trump", "trunk", "trust", "truth", "tuber", "tubes", "tucks", "tudor", "tufts", "tulip", "tulsa", "tumor", "tuned", "tuner", "tunes", "tunic", "tunis", "tuple", "turin", "turns", "tutor", "twain", "twang", "tweed", "twice", "twigs", "twill", "twine", "twins", "twirl", "twist", "tying", "tyler", "typed", "types", "tyson", "udall", "ulcer", "ultra", "unary", "uncle", "under", "undid", "undue", "unfit", "unify", "union", "unite", "units", "unity", "untie", "until", "upper", "upset", "upton", "urban", "urged", "urges", "urine", "usage", "users", "usher", "using", "usual", "usurp", "utica", "utter", "vacuo", "vaduz", "vague", "vales", "valet", "valid", "valor", "value", "valve", "vance", "vanes", "vapor", "vases", "vault", "vaunt", "vaxes", "veers", "vegas", "veils", "veins", "vella", "venom", "vents", "venus", "verbs", "verde", "verdi", "verge", "verna", "verne", "versa", "verse", "vests", "vexed", "vexes", "vials", "vices", "vichy", "vicky", "vidal", "video", "views", "vigor", "villa", "vince", "vinci", "vines", "viper", "virgo", "virus", "visas", "visit", "visor", "vista", "vitae", "vital", "vitus", "vivid", "vocal", "vogel", "vogue", "voice", "voids", "volta", "volts", "volvo", "vomit", "voted", "voter", "votes", "vouch", "vowed", "vowel", "vower", "waals", "wacke", "wacky", "waded", "wader", "wades", "wafer", "waged", "wager", "wages", "wagon", "wails", "waist", "waite", "waits", "waive", "waked", "waken", "wakes", "waldo", "wales", "walks", "walls", "walsh", "waltz", "waned", "wanes", "wanly", "wants", "wards", "wares", "warms", "warns", "warps", "warts", "wasps", "waste", "watch", "water", "watts", "waved", "waver", "waves", "waxed", "waxen", "waxer", "waxes", "wayne", "wears", "weary", "weave", "wedge", "weeds", "weeks", "weeps", "weigh", "weird", "weiss", "welch", "welds", "wells", "welsh", "wench", "wendy", "wetly", "whack", "whale", "wharf", "wheat", "wheel", "whelp", "where", "which", "while", "whims", "whine", "whips", "whirl", "whirr", "whisk", "white", "whole", "whoop", "whore", "whorl", "whose", "wicks", "widen", "wider", "widow", "width", "wield", "wiles", "wiley", "willa", "wills", "willy", "wilma", "wilts", "wince", "winds", "windy", "wined", "winer", "wines", "wings", "winks", "wiped", "wiper", "wipes", "wired", "wires", "wised", "wiser", "wisps", "witch", "witty", "wives", "wolfe", "wolff", "woman", "wombs", "women", "woods", "woody", "wooed", "wooer", "woofs", "wools", "words", "wordy", "works", "world", "worms", "worry", "worse", "worst", "worth", "wotan", "would", "wound", "woven", "wraps", "wrath", "wreak", "wreck", "wrens", "wrest", "wring", "wrist", "write", "writs", "wrong", "wrote", "wrung", "wuhan", "wyatt", "wyeth", "wylie", "wyman", "wyner", "xebec", "xenia", "xenix", "xerox", "xhosa", "yalta", "yanks", "yaqui", "yards", "yarns", "yates", "yearn", "years", "yeast", "yeats", "yelps", "yemen", "yentl", "yield", "yoder", "yokes", "young", "yours", "youth", "yukon", "zaire", "zebra", "zeiss", "zeros", "ziggy", "zions", "zomba", "zonal", "zoned", "zones", "zooms", "zulus"];

  const tz='Australia/Brisbane';
  const fmt2=n=>String(n).padStart(2,'0');
  const toMMSS=sec=>{const m=Math.floor(sec/60), s=sec%60; return `${fmt2(m)}:${fmt2(s)}`;};
  const todayInBrisbane=()=>{ const now=new Date(); const parts=new Intl.DateTimeFormat('en-CA',{timeZone:tz,year:'numeric',month:'2-digit',day:'2-digit'}).formatToParts(now).reduce((a,p)=>{a[p.type]=p.value;return a;},{}); return `${parts.year}-${parts.month}-${parts.day}`; };
  const dayOfYearInBrisbane=()=>{ const now=new Date(); const yparts=new Intl.DateTimeFormat('en-CA',{timeZone:tz,year:'numeric'}).format(now); const year=parseInt(yparts,10); const start=new Date(Date.UTC(year,0,1)); const nowStr=new Intl.DateTimeFormat('en-CA',{timeZone:tz,hour12:false,year:'numeric',month:'2-digit',day:'2-digit',hour:'2-digit',minute:'2-digit',second:'2-digit'}).format(now); const [datePart,timePart]=nowStr.split(', '); const [Y,M,D]=datePart.split('-').map(Number); const [h,m,s]=timePart.split(':').map(Number); const bris=new Date(Date.UTC(Y,M-1,D,h,m,s)); return Math.floor((bris-start)/86400000)+1; };
  const lsGet=(k,def=null)=>{try{const v=localStorage.getItem(k);return v?JSON.parse(v):def;}catch{return def;}};
  const lsSet=(k,v)=>localStorage.setItem(k,JSON.stringify(v));

  // DOM
  const boardEl=document.getElementById('board');
  const kbEl=document.getElementById('keyboard');
  const globalTimerEl=document.getElementById('globalTimer');
  const nameGate=document.getElementById('nameGate');
  const startBtn=document.getElementById('startBtn');
  const nameInput=document.getElementById('playerName');
  const gameArea=document.getElementById('gameArea');
  const dailyLBEl=document.getElementById('dailyLB');
  const adminLBWrap=document.getElementById('adminLBWrap');
  const adminLBEl=document.getElementById('adminLB');
  const clearTodayBtn=document.getElementById('clearTodayBtn');
  const rowTemplate=document.getElementById('rowTemplate');
  const changePlayer=document.getElementById('changePlayer');
  const lockoutPanel=document.getElementById('lockoutPanel');
  const lockoutChange=document.getElementById('lockoutChange');
  const countdownEl=document.getElementById('countdown');
  const resultModal=document.getElementById('resultModal');
  const resultWord=document.getElementById('resultWord');
  const resultSummary=document.getElementById('resultSummary');
  const resultGoogle=document.getElementById('resultGoogle');
  const resultClose=document.getElementById('resultClose');
  const toastEl=document.getElementById('toast');

  // State
  let WORDS=[], MASTER=[], solution="";
  let guessRow=0, guessCol=0;
  let currentGuess=["","","","",""];
  let timerInterval=null, elapsedSec=0, startedAtMs=null;
  let playerName=null, dateKey=todayInBrisbane();
  let inputLockUntil=0;

  function buildBoard(){ boardEl.innerHTML=""; for(let r=0;r<6;r++){ boardEl.appendChild(rowTemplate.content.firstElementChild.cloneNode(true)); } }

  // Keyboard
  const KB_ROWS=[["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l"],["enter","z","x","c","v","b","n","m","back"]];
  function addKeyBtn(r,key,label,wide=false,icon=false){ const btn=document.createElement('button'); btn.type='button'; btn.className='key'+(wide?' wide':'')+(icon?' icon':''); btn.dataset.key=key; btn.textContent=label; let lastDown=0; const fire=(ev)=>{ const now=Date.now(); ev.preventDefault(); ev.stopPropagation(); if(now<inputLockUntil) return; if(now-lastDown<160) return; lastDown=now; inputLockUntil=now+120; handleKey(key); }; btn.addEventListener('pointerdown', fire, {passive:false}); r.appendChild(btn); }
  function buildKeyboard(){ kbEl.innerHTML=""; KB_ROWS.forEach(row=>{ const r=document.createElement('div'); r.className='krow'; row.forEach(k=>{ if(k==='enter') addKeyBtn(r,'enter','Enter',true,false); else if(k==='back') addKeyBtn(r,'⌫','⌫',true,true); else addKeyBtn(r,k,k,false,false); }); kbEl.appendChild(r); }); }

  // Helpers
  const cleanList=(txt)=> txt.split(/\r?\n/).map(w=>w.trim().toLowerCase().replace(/[^a-z]/g,'')).filter(w=>w.length===5);
  async function tryFetchList(filename){ try{ const res=await fetch(filename); if(!res.ok) throw new Error('fetch'); const txt=await res.text(); return cleanList(txt); }catch{ return []; } }
  async function loadWords(){ const fetchedAnswers=await tryFetchList('words.txt'); const fetchedMaster=await tryFetchList('master.txt'); const answers = fetchedAnswers.length?fetchedAnswers:EMBEDDED_WORDS; const baseMaster = fetchedMaster.length?fetchedMaster:EMBEDDED_MASTER; const union=(a,b)=>{const s=new Set(a); b.forEach(x=>s.add(x)); return Array.from(s);}; WORDS = answers; MASTER = union(baseMaster, answers); const idx=(dayOfYearInBrisbane()-1)%WORDS.length; solution=WORDS[idx]; console.log('lists:', WORDS.length, MASTER.length, 'solution:', solution); }

  // Name flow
  function showGate(){ nameGate.classList.add('active'); nameGate.classList.remove('hidden'); gameArea.classList.add('hidden'); startedAtMs=null; if(timerInterval){ clearInterval(timerInterval); timerInterval=null; } globalTimerEl.textContent='00:00'; nameInput.value=''; nameInput.focus(); }
  function startFromName(){ const val=(nameInput.value||'').trim(); if(!val){ nameInput.focus(); return; } playerName=val; afterNameEntered(); }
  function wireNameGate(){ const fire=(e)=>{ e.preventDefault(); startFromName(); }; startBtn.addEventListener('click', fire); nameInput.addEventListener('keydown', (e)=>{ if(e.key==='Enter'){ e.preventDefault(); startFromName(); } }); if(changePlayer) changePlayer.addEventListener('click', (e)=>{ e.preventDefault(); if(window.__countdownTimer) clearInterval(window.__countdownTimer); showGate(); }); }
  function afterNameEntered(){ if(playerName.toLowerCase()==='john') document.body.classList.add('colorblind'); else document.body.classList.remove('colorblind'); if(adminLBWrap) adminLBWrap.classList.toggle('hidden', playerName.toLowerCase()!=='damian');
    // Show clear button only for Damian
    if(clearTodayBtn){
      clearTodayBtn.style.display = (playerName.toLowerCase()==='damian') ? 'inline-block' : 'none';
      clearTodayBtn.onclick = ()=>{
        if(confirm('Clear today\'s leaderboard? This cannot be undone.')){
          const dailyKey=`DWORDLE_LB_${dateKey}`;
          localStorage.removeItem(dailyKey);
          lsSet(dailyKey, []);
          renderLeaderboards();
        }
      };
    }
 nameGate.classList.remove('active'); nameGate.classList.add('hidden'); gameArea.classList.remove('hidden'); 
    // Check lockout: has this player already played today?
    try{
      const key = `DWORDLE_PLAYED_${dateKey}_${playerName.toLowerCase()}`;
      const already = (playerName && playerName.toLowerCase()==='damian') ? false : lsGet(key, false);
      if(already){
        // Show lockout panel with countdown
        gameArea.classList.add('hidden');
        if(lockoutPanel){ 
          lockoutPanel.classList.remove('hidden'); 
          renderCountdown();
          if(window.__countdownTimer) clearInterval(window.__countdownTimer);
          window.__countdownTimer = setInterval(renderCountdown, 1000);
        }
        if(lockoutChange){
          lockoutChange.onclick = (e)=>{ e.preventDefault(); if(window.__countdownTimer) clearInterval(window.__countdownTimer); showGate(); };
        }
        return;
      } else {
        if(lockoutPanel){ lockoutPanel.classList.add('hidden'); if(window.__countdownTimer) clearInterval(window.__countdownTimer); }
      }
    }catch(e){}
buildBoard(); guessRow=0; guessCol=0; currentGuess=["","","","",""]; elapsedSec=0; startedAtMs=Date.now(); if(timerInterval) clearInterval(timerInterval); timerInterval=setInterval(()=>{ elapsedSec++; globalTimerEl.textContent=toMMSS(elapsedSec); if(todayInBrisbane()!==dateKey){ clearInterval(timerInterval); globalTimerEl.textContent+=' (day rolled)'; } },1000); renderLeaderboards(); }

  // Input
  function handleKey(key){ if(!startedAtMs) return; if(key==='enter') return submitGuess(); if(key==='⌫'){ if(guessCol>0){ guessCol--; currentGuess[guessCol]=''; renderCurrentGuess(); } return; } if(/^[a-z]$/.test(key)){ if(guessCol<5){ currentGuess[guessCol]=key; guessCol++; renderCurrentGuess(); } return; } }
  document.addEventListener('keydown',(e)=>{ if(nameGate.classList.contains('active')) return; const key=e.key.toLowerCase(); if(key==='enter') handleKey('enter'); else if(key==='backspace') handleKey('⌫'); else if(/^[a-z]$/.test(key)) handleKey(key); });

  function renderCurrentGuess(){ const row=boardEl.children[guessRow]; if(!row) return; const cells=row.querySelectorAll('.cell'); for(let i=0;i<5;i++){ cells[i].textContent=currentGuess[i]||''; } }
  function markKeyboard(letter,state){ const btn=kbEl.querySelector(`.key[data-key="${letter}"]`); if(!btn) return; const order={'absent':0,'present':1,'correct':2}; const current=['','absent','present','correct'].indexOf(btn.dataset.state||''); if(order[state]>current){ btn.dataset.state=state; btn.classList.remove('absent','present','correct'); btn.classList.add(state); } }
  function evaluateGuess(guess){ const res=new Array(5).fill('absent'); const solArr=solution.split(''); for(let i=0;i<5;i++) if(guess[i]===solArr[i]){ res[i]='correct'; solArr[i]=null; } for(let i=0;i<5;i++) if(res[i]!=='correct'){ const idx=solArr.indexOf(guess[i]); if(idx!==-1){ res[i]='present'; solArr[idx]=null; } } return res; }
  function showToast(msg){ if(!toastEl) return; toastEl.textContent=msg; toastEl.classList.remove('hidden'); toastEl.classList.add('show'); setTimeout(()=>{ toastEl.classList.remove('show'); }, 1000); }

  function submitGuess(){ if(currentGuess.join('').length!==5){ shakeRow(guessRow); return; } const guess=currentGuess.join(''); if(!MASTER.includes(guess)){ shakeRow(guessRow); showToast(`Not in word list: ${guess}`); return; } const row=boardEl.children[guessRow]; const cells=row.querySelectorAll('.cell'); const result=evaluateGuess(guess); for(let i=0;i<5;i++){ const state=result[i]; cells[i].classList.add('reveal',state); cells[i].textContent=guess[i].toUpperCase(); markKeyboard(guess[i],state); } row.querySelector('.rowtime').textContent=toMMSS(elapsedSec); if(result.every(s=>s==='correct')){ endGame(true); return; } guessRow++; guessCol=0; currentGuess=["","","","",""]; if(guessRow>=6){ endGame(false); } }

  function shakeRow(r){ const row=boardEl.children[r]; if(!row) return; row.animate([{transform:'translateX(0)'},{transform:'translateX(-6px)'},{transform:'translateX(6px)'},{transform:'translateX(0)'}],{duration:180}); }

  function endGame(won){
    // mark player as played today
    try { lsSet(`DWORDLE_PLAYED_${dateKey}_${(playerName||'').toLowerCase()}`, true); } catch(e){} if(timerInterval) clearInterval(timerInterval); showResultModal(won); if(!playerName) return; const dailyKey=`DWORDLE_LB_${dateKey}`; const list=lsGet(dailyKey,[]); if(won){ list.push({name:playerName,time:elapsedSec}); list.sort((a,b)=>(a.time??999999)-(b.time??999999)); const adminKey=`DWORDLE_ADMIN_WINNERS`; const admin=lsGet(adminKey,{}); if(!admin[dateKey] || (typeof admin[dateKey].time==='number' && elapsedSec<admin[dateKey].time)){ admin[dateKey] = {name:playerName,time:elapsedSec,word:solution}; lsSet(adminKey,admin); } } else { list.push({name:playerName,fail:true}); } lsSet(dailyKey,list); renderLeaderboards(); }
  function renderLeaderboards(){ const dailyKey=`DWORDLE_LB_${dateKey}`; const list=lsGet(dailyKey,[]); dailyLBEl.innerHTML=""; list.forEach(e=>{ const li=document.createElement('li'); li.textContent = e.fail ? `${e.name} — FAIL` : `${toMMSS(e.time)} — ${e.name}`; dailyLBEl.appendChild(li); }); if(playerName && playerName.toLowerCase()==='damian'){ const admin=lsGet('DWORDLE_ADMIN_WINNERS',{}); adminLBEl.innerHTML=""; Object.keys(admin).sort().forEach(d=>{ const e=admin[d]; const li=document.createElement('li'); li.textContent=`${d} — ${e.name} — ${toMMSS(e.time)} — ${e.word ? e.word.toUpperCase() : ''}`; adminLBEl.appendChild(li); }); } }

  // Result modal
  function showResultModal(won){ if(!resultModal) return; resultWord.textContent = solution.toUpperCase(); resultSummary.textContent = "Loading short definition…"; const gq = encodeURIComponent(`define ${solution}`); resultGoogle.href = `https://www.google.com/search?q=${gq}&hl=en`; fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${solution}`).then(r=>r.json()).then(data=>{ if(Array.isArray(data) && data[0]?.meanings?.[0]?.definitions?.[0]?.definition){ resultSummary.textContent = data[0].meanings[0].definitions[0].definition; } else { resultSummary.textContent = "Tap the Google button below to view the definition."; } }).catch(()=>{ resultSummary.textContent = "Tap the Google button below to view the definition."; }); resultModal.classList.add('active'); }
  if(resultClose) resultClose.addEventListener('click', (e)=>{ e.preventDefault(); resultModal.classList.remove('active'); });

  function init(){ buildBoard(); buildKeyboard(); wireNameGate(); loadWords().then(()=>{ showGate(); renderLeaderboards(); }).catch(()=>{ // even if load failed, embedded lists exist
      WORDS = EMBEDDED_WORDS.slice(); const s = new Set(EMBEDDED_MASTER); EMBEDDED_WORDS.forEach(w=>s.add(w)); MASTER = Array.from(s); showGate(); renderLeaderboards(); }); }
  if(document.readyState==='loading') document.addEventListener('DOMContentLoaded', init); else init();
})();